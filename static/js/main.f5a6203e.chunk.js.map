{"version":3,"sources":["components/header/header.module.css","components/preview/preview.module.css","components/footer/footer.module.css","components/editor/editor.module.css","components/maker/maker.module.css","app.module.css","components/button/button.module.css","components/card/card.module.css","index.module.css","components/card_add_form/card_add_form.module.css","components/footer/footer.jsx","components/header/header.jsx","components/login/login.jsx","components/button/button.jsx","components/card_add_form/card_add_form.jsx","components/editor/editor.jsx","components/card/card.jsx","components/preview/preview.jsx","components/maker/maker.jsx","app.jsx","service/firebase.js","service/auth_service.js","service/image_uploader.js","components/image_file_input/image_file_input.jsx","service/card_repository.js","index.js","components/card_edit_form/card_edit_form.module.css","components/login/login.module.css","components/image_file_input/image_file_input.module.css"],"names":["module","exports","Footer","className","styles","footer","title","Header","onLogout","header","logout","onClick","logo","src","alt","Login","authService","history","useHistory","goToMaker","userId","push","pathname","state","id","onLogin","event","login","currentTarget","textContent","then","data","user","uid","useEffect","onAuthChange","list","item","button","Button","name","CardAddForm","FileInput","onAdd","formRef","useRef","nameRef","companyRef","themeRef","titleRef","emailRef","messageRef","useState","fileName","fileURL","file","setFile","ref","form","input","type","placeholder","select","textarea","fileInput","onFileChange","console","log","url","preventDefault","card","Date","now","current","value","company","theme","email","message","reset","Editor","cards","addCard","updateCard","deleteCard","editor","Object","keys","map","key","getStyles","dark","light","colorful","Error","Card","avatar","info","Preview","preview","Maker","cardRepository","historyState","setCards","setUserId","stopSync","syncCards","createOrUpdateCard","updated","saveCard","maker","container","removeCard","App","app","exact","path","process","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","firebaseAuth","auth","firebaseDatabase","database","googleProvider","GoogleAuthProvider","githubProvider","GithubAuthProvider","AuthService","providerName","authProvider","this","getProvider","signInWithPopup","signOut","onUserChanged","onAuthStateChanged","ImageUploader","FormData","append","fetch","method","body","result","json","ImageFileInput","imageUploader","loading","setLoading","inputRef","onChange","a","upload","target","files","uploaded","original_filename","accept","pink","grey","click","CardRepository","onUpdate","on","snapshot","val","off","set","remove","ReactDOM","render","StrictMode","props","document","getElementById"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,WAAa,UAAU,WAAa,QAAQ,WAAa,QAAQ,OAAS,uBAAuB,KAAO,qBAAqB,MAAQ,sBAAsB,OAAS,yB,mBCAtLD,EAAOC,QAAU,CAAC,WAAa,UAAU,QAAU,yBAAyB,MAAQ,uBAAuB,MAAQ,yB,mBCAnHD,EAAOC,QAAU,CAAC,WAAa,QAAQ,WAAa,UAAU,OAAS,uBAAuB,MAAQ,wB,mBCAtGD,EAAOC,QAAU,CAAC,WAAa,UAAU,eAAiB,UAAU,OAAS,uBAAuB,MAAQ,wB,mBCA5GD,EAAOC,QAAU,CAAC,WAAa,QAAQ,WAAa,QAAQ,MAAQ,qBAAqB,UAAY,2B,mBCArGD,EAAOC,QAAU,CAAC,UAAY,UAAU,IAAM,mB,mBCA9CD,EAAOC,QAAU,CAAC,WAAa,QAAQ,WAAa,UAAU,OAAS,yB,kBCAvED,EAAOC,QAAU,CAAC,WAAa,QAAQ,WAAa,QAAQ,YAAc,yBAAyB,WAAa,QAAQ,cAAgB,wIAAwI,KAAO,mBAAmB,KAAO,mBAAmB,MAAQ,oBAAoB,SAAW,uBAAuB,OAAS,qBAAqB,KAAO,mBAAmB,KAAO,mBAAmB,QAAU,sBAAsB,MAAQ,oBAAoB,MAAQ,oBAAoB,QAAU,wB,uDCAtjBD,EAAOC,QAAU,CAAC,WAAa,U,kBCA/BD,EAAOC,QAAU,CAAC,WAAa,QAAQ,WAAa,QAAQ,KAAO,4BAA4B,MAAQ,6BAA6B,SAAW,gCAAgC,OAAS,8BAA8B,OAAS,8BAA8B,UAAY,mC,qICQ1PC,EANA,kBACX,4BAAQC,UAAWC,IAAOC,QACtB,uBAAGF,UAAWC,IAAOE,OAArB,sB,iBCMOC,EARA,SAAC,GAAD,IAAEC,EAAF,EAAEA,SAAF,OACR,4BAAQL,UAAaC,IAAOK,QACvBD,GAAY,4BAAQL,UAAaC,IAAOM,OAAQC,QAASH,GAA7C,UACb,yBAAKL,UAAaC,IAAOQ,KAAMC,IAAI,mBAAmBC,IAAI,SAC1D,wBAAKX,UAAaC,IAAOE,OAAzB,yB,gBC2CIS,EA3CD,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YAGPC,EAAUC,cAEVC,EAAY,SAACC,GACfH,EAAQI,KAAK,CACTC,SAAU,SACVC,MAAO,CAACC,GAAIJ,MAGdK,EAAU,SAAAC,GACZV,EACCW,MAAMD,EAAME,cAAcC,aAC1BC,MAAK,SAAAC,GAAI,OAAIZ,EAAUY,EAAKC,KAAKC,SAWtC,OARAC,qBAAU,WACNlB,EACCmB,cAAa,SAAAH,GACVA,GAAQb,EAAUa,EAAKC,WAM3B,6BAAS9B,UAAWC,IAAOuB,OACvB,kBAAC,EAAD,MACI,iCACI,qCACA,wBAAIxB,UAAWC,IAAOgC,MAClB,wBAAIjC,UAAWC,IAAOiC,MAClB,4BAAQlC,UAAWC,IAAOkC,OAAQ3B,QAAWc,GAA7C,WAEJ,wBAAItB,UAAWC,IAAOiC,MAClB,4BAAQlC,UAAWC,IAAOkC,OAAQ3B,QAAWc,GAA7C,aAIhB,kBAAC,EAAD,Q,gDCtCGc,EANA,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAM7B,EAAR,EAAQA,QAAR,OACP,4BAAQR,UAAWC,IAAOkC,OAAQ3B,QAASA,GACtC6B,ICyFEC,EAzFK,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,UAAWC,EAAY,EAAZA,MAC1BC,EAAUC,mBACVC,EAAUD,mBACVE,EAAaF,mBACbG,EAAWH,mBACXI,EAAWJ,mBACXK,EAAWL,mBACXM,EAAaN,mBAPyB,EAQpBO,mBAAS,CAAEC,SAAU,KAAMC,QAAS,OARhB,mBAQrCC,EARqC,KAQ/BC,EAR+B,KAmC5C,OACE,0BAAMC,IAAKb,EAASzC,UAAWC,IAAOsD,MACpC,2BACED,IAAKX,EACL3C,UAAWC,IAAOuD,MAClBC,KAAK,OACLpB,KAAK,OACLqB,YAAY,SAEd,2BACEJ,IAAKV,EACL5C,UAAWC,IAAOuD,MAClBC,KAAK,OACLpB,KAAK,UACLqB,YAAY,YAEd,4BACEJ,IAAKT,EACL7C,UAAWC,IAAO0D,OAClBtB,KAAK,QACLqB,YAAY,SAEZ,4BAAQA,YAAY,SAApB,SACA,4BAAQA,YAAY,QAApB,QACA,4BAAQA,YAAY,YAApB,aAEF,2BACEJ,IAAKR,EACL9C,UAAWC,IAAOuD,MAClBC,KAAK,OACLpB,KAAK,QACLqB,YAAY,UAEd,2BACEJ,IAAKP,EACL/C,UAAWC,IAAOuD,MAClBC,KAAK,OACLpB,KAAK,QACLqB,YAAY,UAEd,8BACEJ,IAAKN,EACLhD,UAAWC,IAAO2D,SAClBvB,KAAK,UACLqB,YAAY,YAEd,yBAAK1D,UAAWC,IAAO4D,WACrB,kBAACtB,EAAD,CAAWF,KAAMe,EAAKF,SAAUY,aAxEjB,SAAAV,GACnBW,QAAQC,IAAIZ,GACZC,EAAQ,CACNH,SAAUE,EAAKf,KACfc,QAASC,EAAKa,UAsEd,kBAAC,EAAD,CAAQ5B,KAAK,MAAM7B,QAlEN,SAAAe,GACfA,EAAM2C,iBACN,IAAMC,EAAO,CACX9C,GAAI+C,KAAKC,MACThC,KAAMM,EAAQ2B,QAAQC,OAAS,GAC/BC,QAAS5B,EAAW0B,QAAQC,OAAS,GACrCE,MAAO5B,EAASyB,QAAQC,MACxBpE,MAAO2C,EAASwB,QAAQC,OAAS,GACjCG,MAAO3B,EAASuB,QAAQC,OAAS,GACjCI,QAAS3B,EAAWsB,QAAQC,OAAS,GACrCrB,SAAUE,EAAKF,UAAY,GAC3BC,QAASC,EAAKD,SAAW,IAE3BV,EAAQ6B,QAAQM,QAChBvB,EAAQ,CAAEH,SAAU,KAAMC,QAAS,OACnCX,EAAM2B,Q,8BCfKU,EAjBA,SAAC,GAAD,IAAGtC,EAAH,EAAGA,UAAWuC,EAAd,EAAcA,MAAOC,EAArB,EAAqBA,QAArB,EAA8BC,WAA9B,EAA0CC,WAA1C,OACb,6BAASjF,UAAWC,IAAOiF,QACzB,wBAAIlF,UAAWC,IAAOE,OAAtB,cACCgF,OAAOC,KAAKN,GAAOO,KAAI,SAAAC,OAWxB,kBAAC,EAAD,CAAa/C,UAAWA,EAAWC,MAAOuC,M,gBCW9C,SAASQ,EAAUd,GACjB,OAAQA,GACN,IAAK,OACH,OAAOxE,IAAOuF,KAChB,IAAK,QACH,OAAOvF,IAAOwF,MAChB,IAAK,WACH,OAAOxF,IAAOyF,SAChB,QACE,MAAM,IAAIC,MAAJ,yBAA4BlB,KAIzBmB,MAtCF,SAAC,GAAc,IAAZzB,EAAW,EAAXA,KAEZ9B,EAOE8B,EAPF9B,KACAmC,EAMEL,EANFK,QACArE,EAKEgE,EALFhE,MACAuE,EAIEP,EAJFO,MACAC,EAGER,EAHFQ,QACAF,EAEEN,EAFFM,MAGIR,EADFE,EADFhB,SAVkB,2BAapB,OACE,wBAAInD,UAAS,UAAKC,IAAOkE,KAAZ,YAAoBoB,EAAUd,KACzC,yBAAKzE,UAAWC,IAAO4F,OAAQnF,IAAKuD,EAAKtD,IAAI,YAC7C,yBAAKX,UAAWC,IAAO6F,MACrB,wBAAI9F,UAAWC,IAAOoC,MAAOA,GAC7B,uBAAGrC,UAAWC,IAAOuE,SAAUA,GAC/B,uBAAGxE,UAAWC,IAAOE,OAAQA,GAC7B,uBAAGH,UAAWC,IAAOyE,OAAQA,GAC7B,uBAAG1E,UAAWC,IAAO0E,SAAUA,M,iBCTxBoB,EAXC,SAAC,GAAD,IAAGjB,EAAH,EAAGA,MAAH,OACd,6BAAS9E,UAAWC,IAAO+F,SACzB,wBAAIhG,UAAWC,IAAOE,OAAtB,gBACA,wBAAIH,UAAWC,IAAO6E,OACnBK,OAAOC,KAAKN,GAAOO,KAAI,SAAAC,GAAG,OACzB,kBAAC,EAAD,CAAMA,IAAKA,EAAKnB,KAAMW,EAAMQ,W,iBCoErBW,EApED,SAAC,GAAgD,IAA9C1D,EAA6C,EAA7CA,UAAW1B,EAAkC,EAAlCA,YAAaqF,EAAqB,EAArBA,eACjCC,EAAepF,cAAaK,MAD0B,EAElC6B,mBAAS,IAFyB,mBAErD6B,EAFqD,KAE9CsB,EAF8C,OAGhCnD,mBAASkD,GAAgBA,EAAa9E,IAHN,mBAGrDJ,EAHqD,KAG7CoF,EAH6C,KAMtDvF,EAAUC,cAKhBgB,qBAAU,WACR,GAAKd,EAAL,CAGA,IAAMqF,EAAWJ,EAAeK,UAAUtF,GAAQ,SAAA6D,GAChDsB,EAAStB,MAEX,OAAO,kBAAMwB,QACZ,CAACrF,EAAQiF,IAEZnE,qBAAU,WACRlB,EAAYmB,cAAa,SAAAH,GACnBA,EACFwE,EAAUxE,EAAKC,KAGfhB,EAAQI,KAAK,UAGjB,CAACL,EAAaI,EAAQH,IAExB,IAAM0F,EAAqB,SAAArC,GACzBiC,GAAS,SAAAtB,GACP,IAAM2B,EAAO,eAAQ3B,GAErB,OADA2B,EAAQtC,EAAK9C,IAAM8C,EACZsC,KAETP,EAAeQ,SAASzF,EAAQkD,IAYlC,OACE,6BAASnE,UAAWC,IAAO0G,OACzB,kBAAC,EAAD,CAAQtG,SA7CK,WACfQ,EAAYN,YA6CV,yBAAKP,UAAWC,IAAO2G,WACrB,kBAAC,EAAD,CACErE,UAAWA,EACXuC,MAAOA,EACPC,QAASyB,EACTxB,WAAYwB,EACZvB,WAlBW,SAAAd,GACjBiC,GAAS,SAAAtB,GACP,IAAM2B,EAAO,eAAQ3B,GAErB,cADO2B,EAAQtC,EAAK9C,IACboF,KAETP,EAAeW,WAAW5F,EAAQkD,MAc9B,kBAAC,EAAD,CAASW,MAAOA,KAElB,kBAAC,EAAD,QCjDSgC,MAjBf,YAA0D,IAA3CvE,EAA0C,EAA1CA,UAAW1B,EAA+B,EAA/BA,YAAaqF,EAAkB,EAAlBA,eACrC,OACE,yBAAKlG,UAAWC,IAAO8G,KACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,KAChB,kBAAC,EAAD,CAAOpG,YAAaA,KAEtB,kBAAC,IAAD,CAAOoG,KAAK,UACV,kBAAC,EAAD,CAAO1E,UAAWA,EAAW1B,YAAaA,EAAaqF,eAAgBA,S,6CCJnFnC,QAAQC,IAAIkD,2CAEZ,IAAMC,EAAcC,IAASC,cATN,CACrBC,OAAQJ,0CACRK,WAAYL,4CACZM,YAAaN,mDACbO,UAAWP,8BAOAQ,EAAeP,EAAYQ,OAC3BC,EAAmBT,EAAYU,WAC/BC,EAAiB,IAAIV,IAASO,KAAKI,mBACnCC,EAAiB,IAAIZ,IAASO,KAAKM,mBCUjCC,E,8FAzBPC,GACJ,IAAMC,EAAeC,KAAKC,YAAYH,GACtC,OAAOT,EAAaa,gBAAgBH,K,+BAGpCV,EAAac,Y,mCAGFC,GACXf,EAAagB,oBAAmB,SAAA7G,GAC9B4G,EAAc5G,Q,kCAGNsG,GACV,OAAOA,GACL,IAAK,SACL,OAAOL,EACP,IAAK,SACL,OAAOE,EACP,QACA,MAAM,IAAIrC,MAAJ,kCAAqCwC,S,+BCPlCQ,G,yIAfAvF,G,gFACLxB,EAAO,IAAIgH,UACZC,OAAO,OAAQzF,GACpBxB,EAAKiH,OAAO,gBAAiB,Y,SACRC,MACnB,mDACA,CACEC,OAAQ,OACRC,KAAMpH,I,cAJJqH,E,gBAOOA,EAAOC,O,oKC6BTC,GAtCQ,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,cAAe/G,EAAyB,EAAzBA,KAAMyB,EAAmB,EAAnBA,aAAmB,EAChCb,oBAAS,GADuB,mBACvDoG,EADuD,KAC9CC,EAD8C,KAGxDC,EAAU7G,mBAMV8G,EAAQ,wCAAG,WAAMjI,GAAN,eAAAkI,EAAA,6DACbH,GAAW,GADE,SAGUF,EAAcM,OAAOnI,EAAMoI,OAAOC,MAAM,IAHlD,OAGPC,EAHO,OAIbP,GAAW,GAEXxF,EAAa,CACTzB,KAAMwH,EAASC,kBACf7F,IAAK4F,EAAS5F,MARL,2CAAH,sDAWd,OACA,yBAAKjE,UAAWC,KAAO2G,WACnB,2BACI5G,UAAWC,KAAOuD,MAClBF,IAAKiG,EACL9F,KAAK,OACLsG,OAAO,UACP1H,KAAK,OACLmH,SAAUA,KAEfH,GAAW,4BAAQrJ,UAAS,UAAKC,KAAOkC,OAAZ,YAAsBE,EAAOpC,KAAO+J,KAAO/J,KAAOgK,MAAQzJ,QAzBnE,SAAAe,GAClBA,EAAM2C,iBACNqF,EAASjF,QAAQ4F,UAwBhB7H,GAAQ,WAEVgH,GAAW,yBAAKrJ,UAAWC,KAAOoJ,YCd1Bc,G,kGAlBDlJ,EAAQmJ,GACd,IAAM9G,EAAMsE,EAAiBtE,IAAjB,UAAwBrC,EAAxB,WAKV,OAJFqC,EAAI+G,GAAG,SAAS,SAAAC,GACZ,IAAM/F,EAAQ+F,EAASC,MACvBhG,GAAS6F,EAAS7F,MAEb,kBAAMjB,EAAIkH,S,+BAIdvJ,EAAQkD,GACbyD,EAAiBtE,IAAjB,UAAwBrC,EAAxB,kBAAwCkD,EAAK9C,KAAMoJ,IAAItG,K,iCAEhDlD,EAAQkD,GACfyD,EAAiBtE,IAAjB,UAAwBrC,EAAxB,kBAAwCkD,EAAK9C,KAAMqJ,a,KCTrD7J,GAAc,IAAIqH,EAClBhC,GAAiB,IAAIiE,GACrBf,GAAgB,IAAIT,GAM1BgC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,CACEhK,YAAaA,GACb0B,UARY,SAAAuI,GAAK,OACvB,kBAAC,GAAD,iBAAoBA,EAApB,CAA2B1B,cAAeA,OAQpClD,eAAgBA,MAGpB6E,SAASC,eAAe,U,kBCxB1BnL,EAAOC,QAAU,CAAC,WAAa,QAAQ,WAAa,QAAQ,KAAO,6BAA6B,MAAQ,8BAA8B,SAAW,iCAAiC,OAAS,+BAA+B,OAAS,+BAA+B,UAAY,oC,kBCA9QD,EAAOC,QAAU,CAAC,WAAa,UAAU,eAAiB,UAAU,WAAa,QAAQ,MAAQ,qBAAqB,KAAO,oBAAoB,KAAO,oBAAoB,OAAS,wB,kBCArLD,EAAOC,QAAU,CAAC,eAAiB,UAAU,eAAiB,UAAU,UAAY,OAAO,UAAY,oCAAoC,MAAQ,gCAAgC,OAAS,iCAAiC,KAAO,+BAA+B,KAAO,+BAA+B,QAAU,kCAAkC,KAAO,kC","file":"static/js/main.f5a6203e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGreen\":\"#385461\",\"makerWhite\":\"white\",\"makerBlack\":\"black\",\"header\":\"header_header__v9FKw\",\"logo\":\"header_logo__1X7aW\",\"title\":\"header_title__1DXxp\",\"logout\":\"header_logout__1MXam\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGreen\":\"#385461\",\"preview\":\"preview_preview__3lr-V\",\"title\":\"preview_title__3zLS1\",\"cards\":\"preview_cards__1KzyC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerWhite\":\"white\",\"makerGreen\":\"#385461\",\"footer\":\"footer_footer__1lZIc\",\"title\":\"footer_title__pkoUs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGreen\":\"#385461\",\"makerLightGrey\":\"#e8e7e6\",\"editor\":\"editor_editor__1nHIK\",\"title\":\"editor_title__21REx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mediaQuery\":\"62rem\",\"makerWhite\":\"white\",\"maker\":\"maker_maker__1Jsum\",\"container\":\"maker_container__25Mis\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGrey\":\"#626262\",\"app\":\"app_app__cewju\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerWhite\":\"white\",\"makerGreen\":\"#385461\",\"button\":\"button_button__3_GL1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"black\",\"makerWhite\":\"white\",\"makerShadow\":\"rgba(217, 217, 217, 1)\",\"makerWheat\":\"wheat\",\"makerColorful\":\"linear-gradient(166deg, rgba(237, 193, 211, 1) 0%,rgba(212, 149, 161, 1) 60%, rgba(162, 63, 63, 1) 100%, rgba(127, 188, 242, 1) 100%)\",\"card\":\"card_card__1py-W\",\"dark\":\"card_dark__1FdRe\",\"light\":\"card_light__1Cc6G\",\"colorful\":\"card_colorful__2zruV\",\"avatar\":\"card_avatar__33lzN\",\"info\":\"card_info__2Fslj\",\"name\":\"card_name__31aE7\",\"company\":\"card_company__3UM9t\",\"title\":\"card_title__25_dG\",\"email\":\"card_email__3uHYI\",\"message\":\"card_message__2dRnZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerWhite\":\"white\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"black\",\"makerWhite\":\"white\",\"form\":\"card_add_form_form__1mJeN\",\"input\":\"card_add_form_input__1s9KG\",\"textarea\":\"card_add_form_textarea__3OTfu\",\"select\":\"card_add_form_select__2br_K\",\"button\":\"card_add_form_button__3PkX4\",\"fileInput\":\"card_add_form_fileInput__R7REj\"};","import React from 'react';\nimport styles from './footer.module.css';\n\nconst Footer = () => (\n    <footer className={styles.footer}>\n        <p className={styles.title}>Designed by Joon</p>\n    </footer>\n);\n\nexport default Footer;\n","import React from 'react';\nimport styles from './header.module.css';\n\nconst Header = ({onLogout}) => (\n       <header className = {styles.header}>\n           {onLogout && <button className = {styles.logout} onClick={onLogout}>Logout</button>}\n           <img className = {styles.logo} src=\"/images/logo.png\" alt=\"logo\"/>\n           <h1  className = {styles.title}>Business Card Maker</h1>\n       </header>     \n    );\n\nexport default Header;","import React from 'react';\nimport { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Footer from '../footer/footer';\nimport Header from '../header/header';\nimport styles from './login.module.css';\n\nconst Login = ({ authService }) => {//({authService}) props에 authService를 전달\n    //onlogin에 arrow fuc을 할당해 콜백 onclick에 {onLogin에서 함수를 불러옴}\n    //화면에서 다른 라우터로 가기위함\n    const history = useHistory();\n    //Maker 화면으로 이동 \n    const goToMaker = (userId) =>{\n        history.push({//{}추가정보를 입력하고 싶으면 오브젝트를 이용 \n            pathname: '/maker',\n            state: {id: userId},//component에서 받아 옴 \n        });\n    };\n    const onLogin = event => {\n        authService\n        .login(event.currentTarget.textContent)//login은 provider를 전달 받아야함, 현재 발생하는 event안의 textContent를 읽어와서 login(providerName) 넣어줌  \n        .then(data => goToMaker(data.user.uid));//로그인이 되면 데이터안에 있는 user안의 uid를 전달 \n    };\n    //사용자가 바뀌게 되면 사용자가 있다면 gotomaker로 이동 \n    useEffect(()=>{\n        authService\n        .onAuthChange(user =>{\n            user && goToMaker(user.uid);\n        });\n    });\n    \n    \n    return(\n        <section className={styles.login}>\n            <Header/>\n                <section>\n                    <h1>Login</h1>\n                    <ul className={styles.list}>\n                        <li className={styles.item}>\n                            <button className={styles.button} onClick = {onLogin}>Google</button>\n                        </li>\n                        <li className={styles.item}>\n                            <button className={styles.button} onClick = {onLogin}>Github</button>\n                        </li>\n                    </ul>\n                </section>\n            <Footer/>\n        </section>\n    );\n}\nexport default Login;","import React from 'react';\nimport styles from './button.module.css';\nconst Button = ({name, onClick}) => (\n        <button className={styles.button} onClick={onClick}>\n            {name}\n        </button>      \n    );\n\nexport default Button;\n","import React, { useRef, useState } from 'react';\nimport styles from './card_add_form.module.css';\nimport Button from '../button/button';\n\nconst CardAddForm = ({ FileInput, onAdd }) => {\n  const formRef = useRef();\n  const nameRef = useRef();\n  const companyRef = useRef();\n  const themeRef = useRef();\n  const titleRef = useRef();\n  const emailRef = useRef();\n  const messageRef = useRef();\n  const [file, setFile] = useState({ fileName: null, fileURL: null });\n\n  const onFileChange = file => {\n    console.log(file);\n    setFile({\n      fileName: file.name,\n      fileURL: file.url,\n    });\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const card = {\n      id: Date.now(), //uuid\n      name: nameRef.current.value || '',\n      company: companyRef.current.value || '',\n      theme: themeRef.current.value,\n      title: titleRef.current.value || '',\n      email: emailRef.current.value || '',\n      message: messageRef.current.value || '',\n      fileName: file.fileName || '',\n      fileURL: file.fileURL || '',\n    };\n    formRef.current.reset();//fontRef를 current 리셋해주도록, 사용자가 입력해서 제출하고 나면 폼이다.\n    setFile({ fileName: null, fileURL: null });\n    onAdd(card);\n  };\n  return (\n    <form ref={formRef} className={styles.form}>\n      <input\n        ref={nameRef}\n        className={styles.input}\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Name\"\n      />\n      <input\n        ref={companyRef}\n        className={styles.input}\n        type=\"text\"\n        name=\"company\"\n        placeholder=\"Company\"\n      />\n      <select\n        ref={themeRef}\n        className={styles.select}\n        name=\"theme\"\n        placeholder=\"Theme\"\n      >\n        <option placeholder=\"light\">light</option>\n        <option placeholder=\"dark\">dark</option>\n        <option placeholder=\"colorful\">colorful</option>\n      </select>\n      <input\n        ref={titleRef}\n        className={styles.input}\n        type=\"text\"\n        name=\"title\"\n        placeholder=\"Title\"\n      />\n      <input\n        ref={emailRef}\n        className={styles.input}\n        type=\"text\"\n        name=\"email\"\n        placeholder=\"Email\"\n      />\n      <textarea\n        ref={messageRef}\n        className={styles.textarea}\n        name=\"message\"\n        placeholder=\"Message\"\n      />\n      <div className={styles.fileInput}>\n        <FileInput name={file.fileName} onFileChange={onFileChange} />\n      </div>\n      <Button name=\"Add\" onClick={onSubmit} />\n    </form>\n  );\n};\n\nexport default CardAddForm;\n","import React from 'react';\nimport CardAddForm from '../card_add_form/card_add_form';\nimport CardEditForm from '../card_edit_form/card_edit_form';\nimport styles from './editor.module.css';\n\nconst Editor = ({ FileInput, cards, addCard, updateCard, deleteCard }) => (\n  <section className={styles.editor}>\n    <h1 className={styles.title}>Card Maker</h1>\n    {Object.keys(cards).map(key => (\n     //오브젝트값으로 받아오기 때문에 cards.map(card=>) -> Object.keys(cards).map(key) cards 오브젝트의 모든 키들을 받아옴 그 키를 돌림 1,2,3\n      <CardEditForm\n        key={key}\n        FileInput={FileInput}\n        card={cards[key]}\n        updateCard={updateCard}\n        deleteCard={deleteCard}\n      />\n    ))}\n\n    <CardAddForm FileInput={FileInput} onAdd={addCard} />\n  </section>\n);\nexport default Editor;\n","import React from 'react';\nimport styles from './card.module.css';\n\nconst DEFAULT_IMAGE = '/images/default_logo.png';\n\nconst Card = ({ card }) => {\n  const {\n    name,\n    company,\n    title,\n    email,\n    message,\n    theme,\n    fileURL,\n  } = card;\n  const url = fileURL || DEFAULT_IMAGE;\n  return (\n    <li className={`${styles.card} ${getStyles(theme)}`}>\n      <img className={styles.avatar} src={url} alt=\"profile\" />\n      <div className={styles.info}>\n        <h1 className={styles.name}>{name}</h1>\n        <p className={styles.company}>{company}</p>\n        <p className={styles.title}>{title}</p>\n        <p className={styles.email}>{email}</p>\n        <p className={styles.message}>{message}</p>\n      </div>\n    </li>\n  );\n};\n\nfunction getStyles(theme) {\n  switch (theme) {\n    case 'dark':\n      return styles.dark;\n    case 'light':\n      return styles.light;\n    case 'colorful':\n      return styles.colorful;\n    default:\n      throw new Error(`unknown theme: ${theme}`);\n  }\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from '../card/card';\nimport styles from './preview.module.css';\n\nconst Preview = ({ cards }) => (\n  <section className={styles.preview}>\n    <h1 className={styles.title}>Card Preview</h1>\n    <ul className={styles.cards}>\n      {Object.keys(cards).map(key => (\n        <Card key={key} card={cards[key]} />\n      ))}\n    </ul>\n  </section>\n);\n\nexport default Preview;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Footer from '../footer/footer';\nimport Header from '../header/header';\nimport Editor from '../editor/editor';\nimport Preview from '../preview/preview';\nimport styles from './maker.module.css';\n\n//props 에 onLogout을 전달 , authService의 logout을 이용 FileInput\nconst Maker = ({ FileInput, authService, cardRepository }) => {\n  const historyState = useHistory().state;//로그인 데이터를 가져옴 \n  const [cards, setCards] = useState({}); // useState : 상태값 관리 state의 값과 state 값 세팅하는 함수 를 리턴\n  const [userId, setUserId] = useState(historyState && historyState.id);//히스토리에서 전달하는 아이디값을 maker 컴포넌트안에서 state로 저장 //히스토리 스테이트가 있으면 안의 id를 사용\n\n\n  const history = useHistory();\n  const onLogout = () => {\n    authService.logout();\n  };\n\n  useEffect(() => {\n    if (!userId) {\n      return;\n    }\n    const stopSync = cardRepository.syncCards(userId, cards => {\n      setCards(cards);\n    });\n    return () => stopSync();// 컴포넌트가 언마운트 되었을때 메모리를 정리 \n  }, [userId, cardRepository]);//userId 가 변경되거나 cardRepository가 변경되면 실행\n\n  useEffect(() => {\n    authService.onAuthChange(user => {\n      if (user) {\n        setUserId(user.uid)\n      }\n      else{ \n        history.push('/');\n      }\n    });\n  },[authService, userId, history]); //authchange가 있다면 유저가 업데이트가 되고 콜백 함수가 수행 사용자가 없다면 히스토리에서 Push로 홈 이동, ,[authService] 추가 authService가 변경될때만 실행되도록 dependency 작성\n\n  const createOrUpdateCard = card => {\n    setCards(cards => {\n      const updated = { ...cards };//cards를 복사해와서 업데이트되는 key를 이용해 오브젝트 전체를 변경\n      updated[card.id] = card;//업데이트 되는 키를 이용해서 오브젝트 전체를 card로 바꿔줌\n      return updated;\n    });\n    cardRepository.saveCard(userId, card);\n  };\n  \n  const deleteCard = card => {\n    setCards(cards => {\n      const updated = { ...cards };\n      delete updated[card.id];\n      return updated;\n    });\n    cardRepository.removeCard(userId, card);\n  };\n\n  return (\n    <section className={styles.maker}>\n      <Header onLogout={onLogout} />\n      <div className={styles.container}>\n        <Editor\n          FileInput={FileInput}\n          cards={cards}\n          addCard={createOrUpdateCard}\n          updateCard={createOrUpdateCard}\n          deleteCard={deleteCard}\n        />\n        <Preview cards={cards} />\n      </div>\n      <Footer />\n    </section>\n  );\n};\n\nexport default Maker;\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport styles from './app.module.css';\nimport Login from './components/login/login';\nimport Maker from './components/maker/maker';\n\nfunction App({ FileInput, authService, cardRepository }) {\n  return (\n    <div className={styles.app}>\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\">\n            <Login authService={authService} />\n          </Route>\n          <Route path=\"/maker\">\n            <Maker FileInput={FileInput} authService={authService} cardRepository={cardRepository}/>\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DB_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n};\n\nconsole.log(process.env.REACT_APP_FIREBASE_API_KEY);\n// Initialize Firebase\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nexport const firebaseAuth = firebaseApp.auth(); //전체 firebase를 임포트 하지 않게 \nexport const firebaseDatabase = firebaseApp.database();\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\nexport const githubProvider = new firebase.auth.GithubAuthProvider();","import {firebaseAuth, githubProvider, googleProvider} from './firebase';\n\nclass AuthService {\n  login(providerName) {\n    const authProvider = this.getProvider(providerName)//provider이름을 전달하면 해당하는 provider를 전달//this(class)에 provider를 호출해서 대상을 받음  \n    return firebaseAuth.signInWithPopup(authProvider);\n  }\n  logout(){\n    firebaseAuth.signOut();\n  }\n  //callback함수를 받는 OnauthChange함수 : 사용자가 바꼈을때 원하는 행동을 취함 \n  onAuthChange(onUserChanged){\n    firebaseAuth.onAuthStateChanged(user =>{\n      onUserChanged(user);\n    })\n  }\n  getProvider(providerName){\n    switch(providerName){\n      case 'Google' :\n      return googleProvider;\n      case 'Github' : \n      return githubProvider;\n      default :\n      throw new Error(`not supported provider: ${providerName}`);//아닐땐 에러 \n    }\n  }\n}\n\nexport default AuthService;\n","class ImageUploader {\n  async upload(file) {\n    const data = new FormData();\n    data.append('file', file);\n    data.append('upload_preset', 'pdzaoz52');\n    const result = await fetch(\n      'https://api.cloudinary.com/v1_1/drqni4rhj/upload',\n      {\n        method: 'POST',\n        body: data,\n      }\n    );\n    return await result.json();//result를 jason 변환후 리턴\n  }\n}\n\nexport default ImageUploader;","import React, { useRef, useState } from 'react';\nimport styles from './image_file_input.module.css';\n\nconst ImageFileInput = ({ imageUploader, name, onFileChange }) => {\n    const [loading, setLoading] = useState(false);//이미지 업로드시 로딩스피너 추가를 위해 로딩 state를 만들어줌\n\n    const inputRef =useRef();\n    //버튼이 클릭되면 input이 클릭된것처럼 inputRef를 사용 ->input을 꾸밀수 있는 방법이 많지않아 버튼으로 \n    const onButtonClick = event =>{\n        event.preventDefault();\n        inputRef.current.click();\n    };\n    const onChange = async event => {\n        setLoading(true);\n        //console.log(event.target.files[0]);\n        const uploaded = await imageUploader.upload(event.target.files[0]);//실행될때까지 기다렸다 uploaded에 할당\n        setLoading(false);\n        //console.log(uploaded);\n        onFileChange({\n            name: uploaded.original_filename,//바뀐파일 이름, URL\n            url: uploaded.url,\n        });\n        };\n    return (\n    <div className={styles.container}>\n        <input\n            className={styles.input} \n            ref={inputRef} \n            type='file' \n            accept=\"image/*\" \n            name=\"file\"\n            onChange={onChange}\n            />\n     {!loading && <button className={`${styles.button} ${name ? styles.pink : styles.grey}`} onClick={onButtonClick}>\n        {name || 'No file'}\n      </button>}\n      {loading && <div className={styles.loading}></div>}\n    </div>\n  );\n};\n\nexport default ImageFileInput;\n","import {firebaseDatabase} from './firebase';\n\nclass CardRepository{\n\n    syncCards(userId, onUpdate){\n        const ref = firebaseDatabase.ref(`${userId}/cards`);//userid 에 있는 카드틑 들을것 \n        ref.on('value', snapshot => {\n            const value = snapshot.val();\n            value && onUpdate(value);\n          });\n          return () => ref.off();\n    }//파이어베이스에 해당 데이터가 업데이트 될떄 마다 스냅샷에 value 가 있다면 콜백함수를 호출\n\n\n    saveCard(userId, card){\n        firebaseDatabase.ref(`${userId}/cards/${card.id}`).set(card);\n    }\n    removeCard(userId, card){\n        firebaseDatabase.ref(`${userId}/cards/${card.id}`).remove();\n    }\n\n}\nexport default CardRepository","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.module.css';\nimport App from './app';\nimport AuthService from './service/auth_service';\nimport ImageUploader from './service/image_uploader';\nimport ImageFileInput from './components/image_file_input/image_file_input';\nimport CardRepository from './service/card_repository';\n\nconst authService = new AuthService();\nconst cardRepository = new CardRepository();\nconst imageUploader = new ImageUploader();\n//컴포넌트 자체를 다른 컴포넌트에서 전달, 원하는 props를 ImageFileInput에 전달(확장성)\nconst FileInput = props => (\n<ImageFileInput {...props} imageUploader={imageUploader}/>\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App\n      authService={authService}\n      FileInput={FileInput}\n      cardRepository={cardRepository}\n    />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"black\",\"makerWhite\":\"white\",\"form\":\"card_edit_form_form__2xQD4\",\"input\":\"card_edit_form_input__uur0a\",\"textarea\":\"card_edit_form_textarea__1-v1B\",\"select\":\"card_edit_form_select__V3wH9\",\"button\":\"card_edit_form_button__3Jpk4\",\"fileInput\":\"card_edit_form_fileInput__3mXDK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGreen\":\"#385461\",\"makerLightPink\":\"#ffeae8\",\"makerWhite\":\"white\",\"login\":\"login_login__19aQM\",\"list\":\"login_list__17HtO\",\"item\":\"login_item__3A1Lj\",\"button\":\"login_button__Fi6x4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerLightGrey\":\"#e8e7e6\",\"makerLightPink\":\"#ffeae8\",\"makerPink\":\"pink\",\"container\":\"image_file_input_container__3Eqtx\",\"input\":\"image_file_input_input__1K4NM\",\"button\":\"image_file_input_button__3E8sw\",\"grey\":\"image_file_input_grey__68AiQ\",\"pink\":\"image_file_input_pink__1V0O7\",\"loading\":\"image_file_input_loading__3OwEa\",\"spin\":\"image_file_input_spin__1K71y\"};"],"sourceRoot":""}